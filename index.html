<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CFM Locate Ticket Log</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <header class="page-header">
        <div class="page-header__content">
            <h1>CFM Locate Ticket Log</h1>
            <p>Choose how you’d like to get started.</p>
            <div class="page-header__actions" id="startActions">
                <button type="button" class="btn btn--primary" data-action="show-login">Existing user login</button>
                <button type="button" class="btn btn--outline" data-action="show-signup">Create an account</button>
            </div>
        </div>
    </header>

    <main class="page-main">
        <section class="auth-panel" id="loginPanel" aria-labelledby="loginHeading" hidden>
            <div class="auth-panel__content">
                <h2 id="loginHeading">Log in to continue</h2>
                <p class="auth-panel__lead">Enter your details to access your locate records.</p>
                <form id="loginForm" class="auth-form">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" name="loginEmail" autocomplete="email" required />

                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" name="loginPassword" autocomplete="current-password" required />

                    <div class="auth-form__actions">
                        <button type="submit" class="btn btn--primary">Log in</button>
                        <button type="button" class="btn btn--ghost" data-action="auth-back">Back</button>
                    </div>
                </form>
            </div>
        </section>

        <section class="auth-panel" id="signupPanel" aria-labelledby="signupHeading" hidden>
            <div class="auth-panel__content">
                <h2 id="signupHeading">Create your account</h2>
                <p class="auth-panel__lead">We’ll set things up so you can start logging locates right away.</p>
                <form id="signupForm" class="auth-form">
                    <label for="signupName">Full name</label>
                    <input type="text" id="signupName" name="signupName" autocomplete="name" required />

                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" name="signupEmail" autocomplete="email" required />

                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" name="signupPassword" autocomplete="new-password" required />

                    <div class="auth-form__actions">
                        <button type="submit" class="btn btn--primary">Create account</button>
                        <button type="button" class="btn btn--ghost" data-action="auth-back">Back</button>
                    </div>
                </form>
            </div>
        </section>

        <section id="appShell" class="layout" hidden>
            <nav class="app-nav" role="tablist" aria-label="Locate workspace navigation">
                <button type="button" class="app-nav__tab" role="tab" aria-selected="true" data-view-target="record" aria-controls="recordSection">Record locate</button>
                <button type="button" class="app-nav__tab" role="tab" aria-selected="false" data-view-target="archive" aria-controls="archiveSection">Ticket archive</button>
            </nav>

            <section class="panel" id="recordSection" aria-labelledby="formHeading" data-view="record" role="tabpanel">
                <div class="panel__header">
                    <h2 id="formHeading">Record locate details</h2>
                </div>
                <form id="ticketForm" class="form" novalidate>
                    <div class="form__row">
                        <div class="form__group">
                            <label for="ticketNumber">Locate ticket number</label>
                            <input type="text" id="ticketNumber" name="ticketNumber" placeholder="e.g. 2024-11857" required />
                            <p class="form__error" data-error-for="ticketNumber"></p>
                        </div>
                        <div class="form__group">
                            <label for="jobAddress">Job site / address</label>
                            <input type="text" id="jobAddress" name="jobAddress" placeholder="123 Main Street" required />
                            <p class="form__error" data-error-for="jobAddress"></p>
                        </div>
                    </div>

                    <div class="form__row">
                        <div class="form__group">
                            <label for="locatorName">Locator name</label>
                            <select id="locatorName" name="locatorName" required>
                                <option value="">Select locator</option>
                            </select>
                            <p class="form__error" data-error-for="locatorName"></p>
                        </div>
                        <div class="form__group">
                            <label for="dateLocated">Date located</label>
                            <input type="date" id="dateLocated" name="dateLocated" required />
                            <p class="form__error" data-error-for="dateLocated"></p>
                        </div>
                    </div>

                    <div class="form__group">
                        <label for="comments">Comments</label>
                        <textarea id="comments" name="comments" rows="4" placeholder="Notes, site conditions, follow-up details..."></textarea>
                    </div>

                    <div class="form__group">
                        <label for="photos">Attach photos</label>
                        <input type="file" id="photos" name="photos" accept="image/*" multiple />
                        <p class="form__hint">You can select multiple images to attach to this locate.</p>
                    </div>

                    <button type="submit" class="btn btn--primary">Save locate</button>
                </form>
            </section>

            <section class="panel" id="archiveSection" aria-labelledby="archiveHeading" data-view="archive" role="tabpanel" hidden aria-hidden="true">
                <div class="panel__header">
                    <div class="panel__titles">
                        <h2 id="archiveHeading">Ticket archive</h2>
                        <p class="panel__subhead">Showing <span id="ticketCount">0</span> locate<span id="ticketCountSuffix">s</span></p>
                    </div>
                    <div class="panel__controls">
                        <label class="panel__filter" for="archiveLocatorFilter">
                            <span>Filter by locator</span>
                            <select id="archiveLocatorFilter" name="archiveLocatorFilter">
                                <option value="all">All locators</option>
                            </select>
                        </label>
                        <label class="panel__search" for="archiveSearch">
                            <span class="visually-hidden">Search tickets</span>
                            <input type="search" id="archiveSearch" name="archiveSearch" placeholder="Search ticket # or address" />
                        </label>
                    </div>
                </div>
                <div id="ticketList" class="ticket-list" role="list">
                    <p class="empty-state">No locates recorded yet. Add your first entry with the form.</p>
                </div>
            </section>
        </section>
    </main>

    <template id="ticketTemplate">
        <article class="ticket" role="listitem">
            <header class="ticket__header">
                <div>
                    <p class="ticket__number"></p>
                    <p class="ticket__address"></p>
                </div>
                <div class="ticket__meta">
                    <span class="ticket__locator"></span>
                    <time class="ticket__date" datetime=""></time>
                </div>
            </header>
            <section class="ticket__comments" hidden>
                <h3>Comments</h3>
                <p></p>
            </section>
            <section class="ticket__photos" hidden>
                <h3>Photos</h3>
                <div class="ticket__photo-grid"></div>
            </section>
        </article>
    </template>

    <div class="lightbox" id="photoLightbox" hidden aria-modal="true" role="dialog">
        <div class="lightbox__backdrop" data-action="close-lightbox"></div>
        <figure class="lightbox__content">
            <button type="button" class="lightbox__close" aria-label="Close preview" data-action="close-lightbox">×</button>
            <img src="" alt="" />
            <figcaption></figcaption>
        </figure>
    </div>

    <script src="script.js"></script>
</body>
</html>
